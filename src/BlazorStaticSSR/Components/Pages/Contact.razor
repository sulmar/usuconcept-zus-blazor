@page "/contact"
@using BlazorStaticSSR.Model

<h3>Contact</h3>

<EditForm method="post" Model="Message" OnValidSubmit="SubmitMessage" FormName="message">

    <DataAnnotationsValidator />
    <ValidationSummary class="text-danger" />

    <div>
        <label>Subject</label>
        <InputText @bind-Value="Message.Subject" />
        <ValidationMessage For="()=>Message.Subject" class="text-danger" />
    </div>
    <div>
        <label>Content</label>
        <InputText @bind-Value="Message.Content" />
        <ValidationMessage For="()=>Message.Content" class="text-danger" />
    </div>

    <button>Send Message</button>
</EditForm>

@if (submitted)
{
    <p>Thank you for your message.</p>
}

@code {

    // application/x-www-form-urlencoded
    [SupplyParameterFromForm]
    Message Message { get; set; } = new();

    bool submitted = false;

    private void SubmitMessage()
    {
        submitted = true;
    }

}
